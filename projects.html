<!DOCTYPE html>
<html>
    <head>
        <title>Projects</title>
          <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <!-- Add my stylesheet and the bootstrapCDN compiled CSS and JS source -->
          <link rel = "stylesheet" href = "styles.css">
          <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
          <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
          <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
          <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
           integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
           crossorigin=""/>
          <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
           integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
           crossorigin=""></script>
           <script src="https://unpkg.com/esri-leaflet"></script>
           <link rel="stylesheet" href="https://unpkg.com/esri-leaflet-geocoder/dist/esri-leaflet-geocoder.css"/>
           <script src="https://unpkg.com/esri-leaflet-geocoder"></script>
    </head>
    <body style="background-color:black;">
      <!-- Add in header and bootstrap nav buttons -->
      <div class="header">
           <a href="index.html" class="btn btn-outline-dark" role="button" aria-pressed="true">Home</a>
           <a href="about.html" class="btn btn-outline-dark" role="button" aria-pressed="true">About</a>
           <a href="art.html" class="btn btn-outline-dark" role="button" aria-pressed="true">Art</a>
           <a href="projects.html" class="btn btn-outline-dark btn active" role="button" aria-pressed="true">Projects</a>
       </div>
<!-- Create 2 columns with row and side classes -->
       <div class="row">
         <div class="left">
           <h1> M.C. Detailing </h1>
           <div class="images">
           <img class="images" src="detailing.png">
           </div>
           <p3> My friend Christian and myself have successfully co-founded and operated a mobile auto detailing business, which has required us to be imaginative, creative, flexible, and detailed oriented. Since 2015, we have expanded our business to include large scale contract work, which requires us to be resourceful and efficient in finding solutions to any challenges that arise while keeping our detailing team focused on providing an unmatched customer experience. The table below shows the number of clients we serviced and the gross income for each summer of operation.</p3>
           <br><br>
           <!-- Add in a table -->
           <table style="width:100%">
           <tr>
             <th>Year</th>
             <th>Number of Clients</th>
             <th>Gross Income</th>
           </tr>
           <tr>
             <td>2015</td>
             <td>53</td>
             <td>$10,175.00</td>
           </tr>
           <tr>
             <td>2016</td>
             <td>37</td>
             <td>$8,073.25</td>
           </tr>
           <tr>
             <td>2017</td>
             <td>49</td>
             <td>$10,888.89</td>
           </tr>
           <tr>
             <td>2018</td>
             <td>31</td>
             <td>$9,911.75</td>
           </tr>
           <tr>
             <td>2019</td>
             <td>13</td>
             <td>$3087.73</td>
           </tr>
           <tr>
             <td>2020</td>
             <td>48</td>
             <td>$10,792.74</td>
           </tr>
         </table>
           <br>
           <a href="https://mcdetailingyyc.wixsite.com/mc-detailing" class="btn btn-dark" role="button" aria-pressed="true" target="_blank">View M.C. Detailing Website</a>
         </div>
<!-- Second column, which uses a leaflet map -->
         <div class="right">
           <h1> Bike Trackr </h1>
           <p3> I have recently started a new project with the goal of creating a low-cost GPS tracking system for my bike. I am using leaflet maps to display a marker and information on a webpage (example below), and an AWS windows environment server to receive GPS TCP/UDP data and store it in an SQL database. I can then pass this information to my webpage and update the location and information of the marker. </p3>
<!-- add the map here -->
           <div id="map"></div>
         </div>
      </div>

<!-- Script for the map functions -->
        <script>
        //Add map variable and set view to calgary
        var map = L.map('map').setView([51.044, -114.07],12);
        //Add stadia tile layer
        L.tileLayer('https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png?api_key=30b6c838-4624-47eb-964a-87fcc2e3eb39',{maxZoom: 20, attribution: '&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>,&copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}).addTo(map);
        //Request user geolocation
        map.locate({setView: true, maxZoom: 15});
        var searchControl = L.esri.Geocoding.geosearch().addTo(map);
        var results = L.layerGroup().addTo(map);
        var geocodeService = L.esri.Geocoding.geocodeService();

        var BikeIcon = L.icon({
        iconUrl: 'bikeiconw.png',
        iconSize:     [40, 30], // size of the icon
        iconAnchor:   [20, 25], // point of the icon which will correspond to marker's location
        popupAnchor:  [0, -20] // point from which the popup should open relative to the iconAnchor
        });

        //If location found
        function onLocationFound(e) {
        var radius = e.accuracy;

        L.esri.Geocoding.reverseGeocode().latlng(e.latlng).run(function (error, result, response) {
        var address = result.address.Match_addr;

        var d = new Date(); // for now
        var hr = d.getHours(); // => 9
        var mn = d.getMinutes(); // =>  30

         //Add marker and popup
         var mark = L.marker(e.latlng, {icon: BikeIcon}).addTo(map)
         mark.bindPopup('<b> Name:</b> Your Bike' + '<br><b>Last Reported Time: </b>' + hr + ':' + mn + '<br> <b> Address: </b>' + address + '<br> <b> Within:</b> ' + radius + ' meters').openPopup();
        });

         L.circle(e.latlng, radius).addTo(map);
         }

         map.on('locationfound', onLocationFound);
         //If user denies location request, display message.
         function onLocationError(e) {
         alert("Geolocation error: User denied Geolocation. Please reload the page and allow geolocation to see the Bike Trackr example.");
         }
         map.on('locationerror', onLocationError);

      </script>
    </body>
</html>
